const myModule=(()=>{"use strict";let e=[],t=[],l=["C","D","H","S"],r=["A","J","Q","K"],s=document.querySelector("#btnAsk"),n=(document.querySelector("#btnNew"),document.querySelector("#btnStop")),d=document.querySelectorAll("small"),i=document.querySelectorAll(".divCards"),a=(l=2)=>{e=o(),t=[];for(let r=0;r<l;r++)t.push(0);d.forEach(e=>e.innerText=0),i.forEach(e=>e.innerText=""),s.disabled=!1,n.disabled=!1},o=()=>{e=[];for(let t=2;t<=10;t++)for(let s of l)e.push(t+s);for(let n of l)for(let d of r)e.push(d+n);return _.shuffle(e)},c=()=>{if(0===e.length)throw"No cards in deck";return e.pop()},u=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:Number(t)},$=(e,l)=>(t[l]=t[l]+u(e),d[l].innerText=t[l],t[l]),b=(e,t)=>{let l=document.createElement("img");l.src=`assets/cartas/${e}.png`,l.classList.add("game-card"),i[t].append(l)},f=()=>{let[e,l]=t;setTimeout(()=>{l===e?alert("Nobody wins"):e>21?alert("Computer wins"):l>21?alert("Player wins"):alert("Computer wins")},90)},h=e=>{let l=0;do{let r=c();l=$(r,t.length-1),b(r,t.length-1)}while(l<e&&e<=21);f()};return s.addEventListener("click",()=>{let e=c(),t=$(e,0);b(e,0),t>21?(s.disabled=!0,n.disabled=!0,h(t)):21===t&&(s.disabled=!0,n.disabled=!0,h(t))}),n.addEventListener("click",()=>{s.disabled=!0,n.disabled=!0,h(t[0])}),{newGame:a}})();